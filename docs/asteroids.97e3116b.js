parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"dnrf":[function(require,module,exports) {
var define;
var e;!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof e&&e.amd?e(n):t.Stats=n()}(this,function(){var e=function(){function t(e){return i.appendChild(e.dom),e}function n(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";l=e}var l=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(e){e.preventDefault(),n(++l%i.children.length)},!1);var a=(performance||Date).now(),o=a,r=0,f=t(new e.Panel("FPS","#0ff","#002")),c=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:t,showPanel:n,begin:function(){a=(performance||Date).now()},end:function(){r++;var e=(performance||Date).now();if(c.update(e-a,200),e>o+1e3&&(f.update(1e3*r/(e-o),100),o=e,r=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){a=this.end()},domElement:i,setMode:n}};return e.Panel=function(e,t,n){var l=1/0,i=0,a=Math.round,o=a(window.devicePixelRatio||1),r=80*o,f=48*o,c=3*o,d=2*o,p=3*o,u=15*o,s=74*o,m=30*o,h=document.createElement("canvas");h.width=r,h.height=f,h.style.cssText="width:80px;height:48px";var v=h.getContext("2d");return v.font="bold "+9*o+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,r,f),v.fillStyle=t,v.fillText(e,c,d),v.fillRect(p,u,s,m),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(p,u,s,m),{dom:h,update:function(f,y){l=Math.min(l,f),i=Math.max(i,f),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,r,u),v.fillStyle=t,v.fillText(a(f)+" "+e+" ("+a(l)+"-"+a(i)+")",c,d),v.drawImage(h,p+o,u,s-o,m,p,u,s-o,m),v.fillRect(p+s-o,u,o,m),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(p+s-o,u,o,a((1-f/y)*m))}}},e});
},{}],"aS9Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vector=n,exports.vectorLength=o,exports.distanceBetween=a,exports.radiansToDegrees=exports.degreesToRadians=void 0;var e=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]])}return t},r=function(e){return e*(Math.PI/180)};exports.degreesToRadians=r;var t=function(e){return e*(180/Math.PI)};function n(t){var n=t.length,o=e(t,["length"]),a="radians"in o?o.radians:r(o.degrees);return{x:Math.cos(a)*n,y:Math.sin(a)*n}}function o(e){var r=e.x,t=e.y;return Math.sqrt(r*r+t*t)}function a(e,r){var t=e.x-r.x,n=e.y-r.y;return Math.sqrt(t*t+n*n)}exports.radiansToDegrees=t;
},{}],"he1Q":[function(require,module,exports) {
"use strict";function e(){var e=document.createElement("div");return e.style.cssText="position: absolute; top: 0; left: 0; right: 0; bottom: 0;",e}function t(e){var t=document.createElement("canvas");return t.style.cssText="position: absolute; top: -"+e+"px; left: -"+e+"px",t.width=2*e,t.height=2*e,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createContainerElement=e,exports.createRadialCanvasElement=t;
},{}],"uSNF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameObject=void 0;var t=require("./dom-utils"),i=function(){function i(i){this.game=i,this.x=0,this.y=0,this.radius=0,this.rotation=0,this.friction=0,this.vector={x:0,y:0},this.graphics=(0,t.createContainerElement)()}return i.prototype.createCanvas=function(){var i=(0,t.createRadialCanvasElement)(this.radius);this.graphics.appendChild(i);var s=i.getContext("2d");if(!s)throw new Error("Context not ready");return{canvas:i,ctx:s}},i.prototype.update=function(t){this.friction&&(this.vector.x*=this.friction,this.vector.y*=this.friction),0===this.vector.x&&0===this.vector.x||(this.x+=this.vector.x*t,this.y+=this.vector.y*t,this.loop())},i.prototype.render=function(){this.graphics.style.left=this.x+"px",this.graphics.style.top=this.y+"px",this.graphics.style.transform="rotate("+this.rotation+"deg)",this.graphics.style.transformOrigin="top left"},i.prototype.loop=function(){var t=this.game.viewport;this.x>t.width+this.radius?this.x-=t.width+2*this.radius:this.x<-this.radius&&(this.x+=t.width+2*this.radius),this.y>t.height+this.radius?this.y-=t.height+2*this.radius:this.y<-this.radius&&(this.y+=t.height+2*this.radius)},i}();exports.GameObject=i;
},{"./dom-utils":"he1Q"}],"OH2U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Particle=void 0;var t=require("./GameObject"),e=require("./math-utils"),r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),o=function(t){function o(r,o){var i=t.call(this,r)||this;i.color="gray",i.minSpeed=10,i.maxSpeed=50,i.maxScale=15,i.radius=2,i.rotation=o;var a=i.minSpeed+(i.maxSpeed-i.minSpeed)*Math.random();return i.vector=(0,e.vector)({length:a,degrees:o}),i.friction=.88,i}return r(o,t),o.prototype.draw=function(){var t=this.createCanvas(),e=t.canvas,r=t.ctx;this.canvas=e,r.beginPath(),r.moveTo(2*this.radius,0),r.lineTo(2*this.radius,2*this.radius),r.lineTo(0,this.radius),r.closePath(),r.fillStyle=this.color,r.fill()},o.prototype.update=function(r){t.prototype.update.call(this,r),(0,e.vectorLength)(this.vector)<1&&this.game.removeObject(this)},o.prototype.render=function(){t.prototype.render.call(this);var r=(0,e.vectorLength)(this.vector),o=this.maxScale*(r/this.maxSpeed);this.canvas.style.transform="scaleX("+o+")"},o}(t.GameObject);exports.Particle=o;
},{"./GameObject":"uSNF","./math-utils":"aS9Q"}],"TsCN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Rock=void 0;var t=require("./GameObject"),e=require("./math-utils"),r=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),o=function(t){function o(r,o){void 0===o&&(o=1);var i=t.call(this,r)||this;return i.iteration=o,i.iteration=o,i.health=12-2*o,i.spin=Math.random()*o,i.radius=75/o,i.vector=(0,e.vector)({length:o,degrees:360*Math.random()}),i}return r(o,t),o.prototype.draw=function(){var t=this.createCanvas().ctx;t.beginPath(),t.translate(this.radius,this.radius);for(var r=0;r<12;r++){var o=30*r+13.2*Math.random(),i=this.radius-.44*this.radius*Math.random(),a=(0,e.vector)({length:i,degrees:o}),n=a.x,s=a.y;t.lineTo(n,s)}t.closePath(),t.stroke()},o.prototype.update=function(e){t.prototype.update.call(this,e),this.rotation+=this.spin*e},o.prototype.hit=function(){if(--this.health<=0&&(this.game.removeObject(this),this.game.addParticles(25,{x:this.x,y:this.y}),this.iteration<o.maxIteration)){var t=this.iteration+1;this.game.addRocks(o.rocksSpawnedOnDeath,{x:this.x,y:this.y,iteration:t})}},o.maxIteration=3,o.rocksSpawnedOnDeath=3,o}(t.GameObject);exports.Rock=o;
},{"./GameObject":"uSNF","./math-utils":"aS9Q"}],"QcFy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Bullet=void 0;var t=require("./GameObject"),e=require("./Rock"),r=require("./math-utils"),i=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),o=function(t){function o(e,i,o){var s=t.call(this,e)||this;return s.speed=10,s.life=120,s.impactDepth=3,s.radius=3,s.rotation=i,s.vector=(0,r.vector)({length:s.speed,degrees:i}),s.vector.x+=o.x,s.vector.y+=o.y,s}return i(o,t),o.prototype.draw=function(){var t=this.createCanvas(),e=t.canvas,r=t.ctx;r.beginPath(),r.moveTo(2*this.radius,this.radius),r.lineTo(1.5*this.radius,2*this.radius),r.lineTo(0,this.radius),r.lineTo(1.5*this.radius,0),r.closePath(),r.fill(),e.style.transform="scaleX(3)"},o.prototype.update=function(r){if(t.prototype.update.call(this,r),this.life-=r,this.life<=0)this.game.removeObject(this);else{var i=this.game.getObjectsIntersectingCircle({x:this.x,y:this.y,radius:-this.impactDepth},e.Rock);i.length&&(this.game.addParticles(5,{x:this.x,y:this.y}),this.game.removeObject(this),i.forEach(function(t){return t.hit()}))}},o}(t.GameObject);exports.Bullet=o;
},{"./GameObject":"uSNF","./Rock":"TsCN","./math-utils":"aS9Q"}],"u1PQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyboardController=void 0;var e=function(){function e(){var e=this;this.keys={},this.handleKeyDown=function(n){e.keys[n.code]=!0},this.handleKeyUp=function(n){e.keys[n.code]=!1},window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)}return e.prototype.isDown=function(e){return!!this.keys[e]},e}();exports.KeyboardController=e;
},{}],"lbff":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Player=void 0;var t=require("./GameObject"),e=require("./math-utils"),r=require("./KeyboardController"),i=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),o=function(t){function o(e){var i=t.call(this,e)||this;return i.rotationSpeed=3,i.thrustSpeed=.15,i.refireDelay=5,i.keyboard=new r.KeyboardController,i.refire=0,i.radius=12,i.friction=.99,i}return i(o,t),o.prototype.draw=function(){var t=this.createCanvas().ctx;t.beginPath(),t.moveTo(2*this.radius,this.radius),t.lineTo(0,2*this.radius),t.lineTo(this.radius/2,this.radius),t.lineTo(0,0),t.closePath(),t.fill()},o.prototype.update=function(r){if(t.prototype.update.call(this,r),this.keyboard.isDown("ArrowLeft")&&(this.rotation-=this.rotationSpeed*r),this.keyboard.isDown("ArrowRight")&&(this.rotation+=this.rotationSpeed*r),this.keyboard.isDown("ArrowUp")){var i=(0,e.vector)({length:this.thrustSpeed*r,degrees:this.rotation}),o=i.x,s=i.y;this.vector.x+=o*r,this.vector.y+=s*r;var a=(0,e.vector)({length:this.radius+this.radius*Math.random(),degrees:this.rotation-180});this.game.addParticles(1,{x:this.x+a.x,y:this.y+a.y,angleDegrees:this.rotation-180,spreadDegrees:35})}if(this.refire-=1*r,this.keyboard.isDown("Space")&&this.refire<=0){this.refire=this.refireDelay;a=(0,e.vector)({length:this.radius,degrees:this.rotation});this.game.addBullet({x:this.x+a.x,y:this.y+a.y,degrees:this.rotation,vector:this.vector})}},o}(t.GameObject);exports.Player=o;
},{"./GameObject":"uSNF","./math-utils":"aS9Q","./KeyboardController":"u1PQ"}],"3jKS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Game=void 0;var t=a(require("stats.js")),e=require("./math-utils"),r=require("./Particle"),i=require("./Bullet"),n=require("./Player"),o=require("./Rock");function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r},c=function(){function a(e){var r=this;this.container=e,this.objects=[],this.stats=new t.default,this.update=function(t){r.stats.begin();r.lastUpdateTime=t,r.objects.forEach(function(t){t.update(1),t.render()}),r.stats.end(),r.animationFrameHandle=requestAnimationFrame(r.update)},e.appendChild(this.stats.dom),this.addRocks(3),this.addPlayer(),this.start()}return a.prototype.start=function(){this.lastUpdateTime=performance.now(),this.animationFrameHandle=requestAnimationFrame(this.update)},a.prototype.stop=function(){this.animationFrameHandle&&cancelAnimationFrame(this.animationFrameHandle)},a.prototype.addRocks=function(t,e){for(;t--;)this.addObject(this.createRock(e))},a.prototype.createRock=function(t){var e=new o.Rock(this,t?t.iteration:void 0);return e.x=t?t.x:Math.random()*this.viewport.width,e.y=t?t.y:Math.random()*this.viewport.height,e},a.prototype.addPlayer=function(){this.addObject(this.createPlayer())},a.prototype.createPlayer=function(){var t=new n.Player(this);return t.x=this.viewport.width/2,t.y=this.viewport.height/2,t},a.prototype.addBullet=function(t){this.addObject(this.createBullet(t))},a.prototype.createBullet=function(t){var e=t.x,r=t.y,n=t.degrees,o=t.vector,a=new i.Bullet(this,n,o);return a.x=e,a.y=r,a},a.prototype.addParticles=function(t,e){for(var r=e.x,i=e.y,n=e.angleDegrees,o=void 0===n?0:n,a=e.spreadDegrees,s=void 0===a?360:a;t--;){var c=o-s/2+s*Math.random();this.addObject(this.createParticle({x:r,y:i,degrees:c}))}},a.prototype.createParticle=function(t){var e=t.x,i=t.y,n=t.degrees,o=new r.Particle(this,n);return o.x=e,o.y=i,o},a.prototype.addObject=function(t){this.objects.push(t),t.draw(),t.render(),this.container.appendChild(t.graphics)},a.prototype.removeObject=function(t){this.objects.splice(this.objects.indexOf(t),1),this.container.removeChild(t.graphics)},a.prototype.getObjectsIntersectingCircle=function(t,r){var i=t.radius,n=s(t,["radius"]);return(r?this.objects.filter(function(t){return t instanceof r}):this.objects).filter(function(t){return(0,e.distanceBetween)(n,t)<=t.radius+i})},Object.defineProperty(a.prototype,"viewport",{get:function(){return this.container.getBoundingClientRect()},enumerable:!0,configurable:!0}),a.FRAME_TIME=1e3/60,a}();exports.Game=c;
},{"stats.js":"dnrf","./math-utils":"aS9Q","./Particle":"OH2U","./Bullet":"QcFy","./Player":"lbff","./Rock":"TsCN"}],"aTsH":[function(require,module,exports) {
"use strict";var e=require("./Game"),t=require("./dom-utils");function r(){var r=(0,t.createContainerElement)();r.style.overflow="hidden",document.body.appendChild(r);new e.Game(r)}setTimeout(r);
},{"./Game":"3jKS","./dom-utils":"he1Q"}]},{},["aTsH"], null)
//# sourceMappingURL=/asteroids.97e3116b.js.map